"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[301],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),i=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=i(e.components);return a.createElement(p.Provider,{value:n},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=i(t),d=r,g=u["".concat(p,".").concat(d)]||u[d]||m[d]||l;return t?a.createElement(g,s(s({ref:n},c),{},{components:t})):a.createElement(g,s({ref:n},c))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,s=new Array(l);s[0]=d;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o[u]="string"==typeof e?e:r,s[1]=o;for(var i=2;i<l;i++)s[i]=t[i];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},5177:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>i});var a=t(7462),r=(t(7294),t(3905));const l={slug:"typescript-note",title:"typescript note",authors:"unknown"},s=void 0,o={permalink:"/blog/typescript-note",editUrl:"https://github.com/coderWuzh/coderWuzh.github.io/blog/2023-05-15-note/2023-05-16-Typescript-note.md",source:"@site/blog/2023-05-15-note/2023-05-16-Typescript-note.md",title:"typescript note",description:"ts\u5b66\u4e60\u7b14\u8bb0",date:"2023-05-16T00:00:00.000Z",formattedDate:"2023\u5e745\u670816\u65e5",tags:[],readingTime:34.215,hasTruncateMarker:!1,authors:[{name:"unknown",title:"unknown",url:"https://sebastienlorber.com",imageURL:"https://avatars.githubusercontent.com/u/80025598?s=96&v=4",key:"unknown"}],frontMatter:{slug:"typescript-note",title:"typescript note",authors:"unknown"},prevItem:{title:"Q&A",permalink:"/blog/Q&A"},nextItem:{title:"git note",permalink:"/blog/git-note"}},p={authorsImageUrls:[void 0]},i=[{value:"ts\u5b66\u4e60\u7b14\u8bb0",id:"ts\u5b66\u4e60\u7b14\u8bb0",level:3},{value:"1.\u521d\u59cb\u5316\u9879\u76ee",id:"1\u521d\u59cb\u5316\u9879\u76ee",level:4},{value:"2.\u6570\u636e\u7c7b\u578b",id:"2\u6570\u636e\u7c7b\u578b",level:4},{value:"\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b",id:"\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b",level:6},{value:"\u5b9a\u4e49\u6570\u7ec4\u7c7b\u578b",id:"\u5b9a\u4e49\u6570\u7ec4\u7c7b\u578b",level:6},{value:"\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b",id:"\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b",level:6},{value:"\u8054\u5408\u7c7b\u578b",id:"\u8054\u5408\u7c7b\u578b",level:6},{value:"\u4ea4\u53c9\u7c7b\u578b",id:"\u4ea4\u53c9\u7c7b\u578b",level:6},{value:"\u7c7b\u578b\u65ad\u8a00",id:"\u7c7b\u578b\u65ad\u8a00",level:6},{value:"\u4e34\u65f6\u65ad\u8a00(any\u7c7b\u578b)",id:"\u4e34\u65f6\u65ad\u8a00any\u7c7b\u578b",level:6},{value:"3.\u5185\u7f6e\u5bf9\u8c61",id:"3\u5185\u7f6e\u5bf9\u8c61",level:4},{value:"1. ecma script",id:"1-ecma-script",level:6},{value:"2. dom",id:"2-dom",level:6},{value:"3. bom",id:"3-bom",level:6},{value:"4.\u6848\u4f8b\u4ee3\u7801\u96e8",id:"4\u6848\u4f8b\u4ee3\u7801\u96e8",level:6},{value:"4. class\u7c7b",id:"4-class\u7c7b",level:4},{value:"\u865a\u62dfdom\u6e32\u67d3\u4f8b\u5b50\uff1a",id:"\u865a\u62dfdom\u6e32\u67d3\u4f8b\u5b50",level:6},{value:"\u6ce8\u610f\uff1a",id:"\u6ce8\u610f",level:6},{value:"get set(\u62e6\u622a\u5668)",id:"get-set\u62e6\u622a\u5668",level:6},{value:"5.\u62bd\u8c61\u7c7b",id:"5\u62bd\u8c61\u7c7b",level:4},{value:"6.\u5143\u7ec4\u7c7b\u578b",id:"6\u5143\u7ec4\u7c7b\u578b",level:4},{value:"7.\u679a\u4e3e\u7c7b\u578b",id:"7\u679a\u4e3e\u7c7b\u578b",level:4},{value:"\u539f\u59cb\u65b9\u6cd5",id:"\u539f\u59cb\u65b9\u6cd5",level:6},{value:"1.\u6570\u5b57\u679a\u4e3e&amp;&amp;\u589e\u957f\u679a\u4e3e",id:"1\u6570\u5b57\u679a\u4e3e\u589e\u957f\u679a\u4e3e",level:6},{value:"2.\u5b57\u7b26\u4e32\u679a\u4e3e",id:"2\u5b57\u7b26\u4e32\u679a\u4e3e",level:6},{value:"3.\u5f02\u6784\u679a\u4e3e",id:"3\u5f02\u6784\u679a\u4e3e",level:6},{value:"4.\u63a5\u53e3\u679a\u4e3e",id:"4\u63a5\u53e3\u679a\u4e3e",level:6},{value:"5.const\u679a\u4e3e",id:"5const\u679a\u4e3e",level:6},{value:"8. \u7c7b\u578b\u63a8\u8bba&amp;&amp;\u7c7b\u578b\u522b\u540d",id:"8-\u7c7b\u578b\u63a8\u8bba\u7c7b\u578b\u522b\u540d",level:4},{value:"9. never\u7c7b\u578b",id:"9-never\u7c7b\u578b",level:4},{value:"10. Symbol\u7c7b\u578b",id:"10-symbol\u7c7b\u578b",level:4},{value:"11.\u751f\u6210\u5668&amp;&amp;\u8fed\u4ee3\u5668",id:"11\u751f\u6210\u5668\u8fed\u4ee3\u5668",level:4},{value:"1.\u751f\u6210\u5668",id:"1\u751f\u6210\u5668",level:6},{value:"2.\u8fed\u4ee3\u5668",id:"2\u8fed\u4ee3\u5668",level:6},{value:"set&amp;&amp;map",id:"setmap",level:6},{value:"\u4f2a\u6570\u7ec4",id:"\u4f2a\u6570\u7ec4",level:6},{value:"\u8fed\u4ee3\u5668",id:"\u8fed\u4ee3\u5668",level:6},{value:"\u5bf9\u8c61\u5b9e\u73b0iiterator",id:"\u5bf9\u8c61\u5b9e\u73b0iiterator",level:6},{value:"12.\u6cdb\u578b",id:"12\u6cdb\u578b",level:4},{value:"13.\u6cdb\u578b\u7ea6\u675f",id:"13\u6cdb\u578b\u7ea6\u675f",level:4},{value:"14. namespace\u547d\u540d\u7a7a\u95f4",id:"14-namespace\u547d\u540d\u7a7a\u95f4",level:4},{value:"\u89e3\u51b3\u65b9\u6cd5\uff1a",id:"\u89e3\u51b3\u65b9\u6cd5",level:6},{value:"\u5d4c\u5957\u547d\u540d\u7a7a\u95f4",id:"\u5d4c\u5957\u547d\u540d\u7a7a\u95f4",level:6},{value:"\u62bd\u79bb\u547d\u540d\u7a7a\u95f4",id:"\u62bd\u79bb\u547d\u540d\u7a7a\u95f4",level:6},{value:"\u7b80\u5316\u547d\u540d\u7a7a\u95f4",id:"\u7b80\u5316\u547d\u540d\u7a7a\u95f4",level:6},{value:"\u547d\u540d\u7a7a\u95f4\u7684\u5408\u5e76",id:"\u547d\u540d\u7a7a\u95f4\u7684\u5408\u5e76",level:6},{value:"15. \u4e09\u659c\u7ebf\u6307\u4ee4",id:"15-\u4e09\u659c\u7ebf\u6307\u4ee4",level:4},{value:"16.\u58f0\u660e\u6587\u4ef6",id:"16\u58f0\u660e\u6587\u4ef6",level:4},{value:"17.Mixins\u6df7\u5165",id:"17mixins\u6df7\u5165",level:4},{value:"\u5bf9\u8c61\u6df7\u5165",id:"\u5bf9\u8c61\u6df7\u5165",level:6},{value:"\u7c7b\u7684\u6df7\u5165",id:"\u7c7b\u7684\u6df7\u5165",level:6},{value:"18.\u88c5\u9970\u5668Decorator",id:"18\u88c5\u9970\u5668decorator",level:4},{value:"1.\u7c7b\u88c5\u9970\u5668ClassDecorator",id:"1\u7c7b\u88c5\u9970\u5668classdecorator",level:6},{value:"2.\u5c5e\u6027\u88c5\u9970\u5668",id:"2\u5c5e\u6027\u88c5\u9970\u5668",level:6},{value:"3.\u53c2\u6570\u88c5\u9970\u5668ParameterDecorator",id:"3\u53c2\u6570\u88c5\u9970\u5668parameterdecorator",level:6},{value:"4.\u65b9\u6cd5\u88c5\u9970\u5668MethodDecorator",id:"4\u65b9\u6cd5\u88c5\u9970\u5668methoddecorator",level:6},{value:"5.\u88c5\u9970\u5668\u5de5\u5382(\u51fd\u6570\u53ef\u7406\u5316)",id:"5\u88c5\u9970\u5668\u5de5\u5382\u51fd\u6570\u53ef\u7406\u5316",level:6},{value:"19.Rollup\u6784\u5efaTS\u9879\u76ee",id:"19rollup\u6784\u5efats\u9879\u76ee",level:4},{value:"20.webpack\u6784\u5efaTS\u9879\u76ee",id:"20webpack\u6784\u5efats\u9879\u76ee",level:4},{value:"21.esbuild\u6784\u5efaTS\u9879\u76ee",id:"21esbuild\u6784\u5efats\u9879\u76ee",level:4},{value:"22.\u5c01\u88c5LocalStorage\u5e76\u652f\u6301\u8fc7\u671f\u65f6\u95f4(\u5b9e\u6218)",id:"22\u5c01\u88c5localstorage\u5e76\u652f\u6301\u8fc7\u671f\u65f6\u95f4\u5b9e\u6218",level:4},{value:"23.TS\u7f16\u5199\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f",id:"23ts\u7f16\u5199\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f",level:4},{value:"24.proxy\u548cReflect",id:"24proxy\u548creflect",level:4},{value:"25.\u7c7b\u578b\u517c\u5bb9",id:"25\u7c7b\u578b\u517c\u5bb9",level:4},{value:"1.\u534f\u53d8(\u9e2d\u5b50\u7c7b\u578b)",id:"1\u534f\u53d8\u9e2d\u5b50\u7c7b\u578b",level:6},{value:"2.\u9006\u53d8",id:"2\u9006\u53d8",level:6},{value:"26.weakMap,weakSet,set,map",id:"26weakmapweaksetsetmap",level:4},{value:"1.set \u96c6\u5408",id:"1set-\u96c6\u5408",level:6},{value:"2.Map\u96c6\u5408",id:"2map\u96c6\u5408",level:6},{value:"3.weakMap\u548cweakSet \u5f31\u9879 \u5f31",id:"3weakmap\u548cweakset-\u5f31\u9879-\u5f31",level:6},{value:"27.Partial&amp;Pick",id:"27partialpick",level:4},{value:"28.Record&amp;Readonly",id:"28recordreadonly",level:4},{value:"29.infer",id:"29infer",level:4},{value:"1.infer\u7684\u7b80\u5355\u4f7f\u7528",id:"1infer\u7684\u7b80\u5355\u4f7f\u7528",level:6},{value:"2.infer \u7c7b\u578b\u63d0\u53d6",id:"2infer-\u7c7b\u578b\u63d0\u53d6",level:6},{value:"3.infer\u9012\u5f52",id:"3infer\u9012\u5f52",level:6}],c={toc:i},u="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"ts\u5b66\u4e60\u7b14\u8bb0"},"ts\u5b66\u4e60\u7b14\u8bb0"),(0,r.kt)("h4",{id:"1\u521d\u59cb\u5316\u9879\u76ee"},"1.\u521d\u59cb\u5316\u9879\u76ee"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"tsc --init   #\u521d\u59cb\u5316ts\nnpm init -y  #\u521d\u59cb\u5316\u9879\u76ee\ntsc index.ts #\u628ats\u8f6c\u6210js\nnpm i @types/node -D  #\u5b89\u88c5\u8fd0\u884cts\u63d2\u4ef6\nts-node index.ts  #\u8fd0\u884cts\u4ee3\u7801\n")),(0,r.kt)("h4",{id:"2\u6570\u636e\u7c7b\u578b"},"2.\u6570\u636e\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"1. top type \u9876\u7ea7\u7c7b\u578b\uff1aany \u4efb\u610f\u7c7b\u578b unknown \u4e0d\u77e5\u9053\u7c7b\u578b\n - unknown \u53ea\u80fd\u8d4b\u503c\u7ed9\u81ea\u8eab\u6216\u8005\u662fany\n - unknown \u6ca1\u529e\u6cd5\u8bfb\u53d6\u4efb\u4f55\u5c5e\u6027\uff0c\u65b9\u6cd5\u4e5f\u4e0d\u53ef\u4ee5\u8c03\u7528\n - unknown\u6bd4any\u66f4\u52a0\u5b89\u5168\n2. Object\n - \u5305\u542b\u6240\u6709\u7c7b\u578b\u7684Object\n - let a:Object = 123/'123'/[]/{}/() => {}\n - let a:{} = 123/'123'/[]/{}/() => {}//new Object\n  //\u5b57\u9762\u91cf\u6a21\u5f0f(a:{})\u65e0\u6cd5\u5bf9\u5c5e\u6027\u8fdb\u884c\u4fee\u6539\uff0c\u5c11\u7528\n3. Number String Boolean \n4. number string boolean\n5.  1  \u2018ww\u2019  false\n6. never\n")),(0,r.kt)("h6",{id:"\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b"},"\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'\n  interface Obj{\n        name:string\n        //\u7d22\u5f15\u7b7e\u540d\uff0c\u591a\u7684\u5c5e\u6027\u90fd\u53ef\u4ee5\u88ab\u63a5\u53d7\n        [propName:string]:any\n        //\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e0d\u53ef\u66f4\u6539\n        readonly cb:() => boolean\n    readonly id:number\n    }\n  //\u91cd\u540d\u5408\u5e76\n  interface Obj{\n        //\u52a0\u95ee\u53f7\u53d8\u4e3a\u53ef\u9009\u5c5e\u6027\uff0c\u53ef\u5199\u53ef\u4e0d\u5199\n        age?:number\n    }\n  \n  //\u7ee7\u627f\u5408\u5e76,B\u4e2d\u5305\u542b\u4e86obj\u7684\u5c5e\u6027\n  interface B extends obj{\n        xxx:number\n    }\n\n  //\u5c5e\u6027\u4e0d\u80fd\u591a\u4e5f\u4e0d\u80fd\u5c11\n  let a:Obj = {\n        id:0\n        name:"\u5c0f\u6ee1"\n        age:19\n        a:1\n        b:"w"\n        cb:() => {return false}\n    }\n    \n    a.cb() => {return true}//\u62a5\u9519\uff0c\u4e0d\u53ef\u66f4\u6539\u53ea\u8bfb\u5c5e\u6027\n    \n    //\u5b9a\u4e49\u51fd\u6570\n    interface Fn {\n        //\u53c2\u6570string\u7c7b\u578b\uff0c\u8fd4\u56de\u503c\u662f\u6570\u7ec4\n        (name:string):number[]\n    }\n  const fn:Fn = function(name:string) {\n        return [1]\n    }\n')),(0,r.kt)("h6",{id:"\u5b9a\u4e49\u6570\u7ec4\u7c7b\u578b"},"\u5b9a\u4e49\u6570\u7ec4\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u5b9a\u4e49boolean\u7c7b\u578b\u7684\u6570\u7ec4\nlet arr:boolean[] = [true,false] \n  \u6216\nlet arr:Array<boolean> = [true,false]\n\n//\u5b9a\u4e49\u5bf9\u8c61\u6570\u7ec4\ninterface X {\n    name:string\n}\nlet arr:X[] = [{name:'\u5c0f\u6ee1'},{name:'\u545c\u545c\u545c'}]\n\n//\u5b9a\u4e49\u4e8c\u7ef4\u6570\u7ec4\nlet arr:number[][] = [[1],[2],[3]]\n  \u6216\nlet arr:Array<Array<number>> = [[1],[2],[3]]\n\n//\u5927\u6742\u70e9\u6570\u7ec4\nlet arr:any[] = [1,'ww',true]\n\n//\u51fd\u6570\u4e0e\u6570\u7ec4\nfunction a(...args:any/number/string[]){\n    console.log(args)\n    //\u8865\u5145\uff0c\u5982\u4f55\u5b9a\u4e49arguments(\u4f2a\u6570\u7ec4)\n    console.log(arguments)\n    let a:IArguments = arguemnts\n}\na(1,2,3)/...\n\n")),(0,r.kt)("h6",{id:"\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b"},"\u5b9a\u4e49\u51fd\u6570\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function add(a:number,b:number):number{\n   return a+b\n}\n\n//\u7bad\u5934\u51fd\u6570\nconst add = (a:number,b:number):number => a+b\n//\u540e\u9762\u7684:number\u4e3a\u8fd4\u56de\u503c\u7684\u5b9a\u4e49\n\n//\u51fd\u6570\u53c2\u6570\u9ed8\u8ba4\u503c\nfunction add(a:number = 10,b:number = 20):number{\n   return a+b\n}\nconsole.log(add()) //\u9ed8\u8ba4\u4e3a20\n\n//\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\ninterface User{\n    name:string\n    age:number\n}\nfunction add(user:User):User{\n    return user\n}\n\n//ts\u53ef\u4ee5\u5b9a\u4e49this\u7684\u7c7b\u578b \u5fc5\u987b\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\u5b9a\u4e49this\u7684\u7c7b\u578b\ninterface Obj {\n    user:number[]\n    add:(this:Obj,num:number) => void\n}\nlet obj:Obj = {\n    user:[1,2,3],\n    add(){\n        this.user.push(num)\n    }\n}\nobj.add(4)\n\n//\u51fd\u6570\u91cd\u8f7d\nlet user:number[] = [1,2,3]\nfunction findNum(add:number[]):number[]//\u5982\u679c\u4f20\u5165\u4e86\u6570\u7ec4\u5c31\u505a\u6dfb\u52a0\nfunction findNum(id:number):number[]//\u5982\u679c\u4f20\u5165\u4e86id\u5c31\u662f\u5355\u4e2a\u67e5\u8be2\nfunction findNum():number[]//\u5982\u679c\u6ca1\u6709\u4f20\u5165\u53c2\u6570\u5c31\u662f\u67e5\u8be2\u5168\u90e8\nfunction findNum(ids?:number | number[]):number[]{\n    if(typeof ids == 'number'){\n        return user.filter(v => v == ids)\n    }\n    else if(Array.isArray(ids)){\n        user.push(...ids)\n        return user\n    }\n    else{\n        return user\n    }\n}\nconsole.log(findNum());//[1,2,3]\nconsole.log(findNum(1));//[1]\nconsole.log(findNum([4, 5, 6]));//[1,2,3,4,5,6]\n")),(0,r.kt)("h6",{id:"\u8054\u5408\u7c7b\u578b"},"\u8054\u5408\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let phone:number | string = '010-112233'\n//\u51fd\u6570\u5b9e\u73b00,1\u8f6c\u5316\u4e3atrue,false\nlet fn = function(type:number | boolean):boolean{\n    return !!type\n}\n")),(0,r.kt)("h6",{id:"\u4ea4\u53c9\u7c7b\u578b"},"\u4ea4\u53c9\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'interface Pople{\n    name:string\n    age:number\n}\n\ninterface Man {\n    sex:number\n}\n\nconst a = (man:Pople & Man):void => {\n    console.log(man)\n}\n\na({\n    name:"wu",\n    age:19,\n    sex:1\n})\n')),(0,r.kt)("h6",{id:"\u7c7b\u578b\u65ad\u8a00"},"\u7c7b\u578b\u65ad\u8a00"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let fn = function(num:number | string):void{\n    console.log((num as string).length)\n}\nfn('123456') //6\nfn(123456) //undefined\n\n//\u4f8b\u5b50\ninterface A{\n    run:string\n}\n\ninterface B{\n    build:string\n}\n\nlet fn = (type: A | B):void => {\n    //console.log((<A>type).run)\n    console.log((type as A).run)\n}\nfn({\n    build:\"123\"\n})\n")),(0,r.kt)("h6",{id:"\u4e34\u65f6\u65ad\u8a00any\u7c7b\u578b"},"\u4e34\u65f6\u65ad\u8a00(any\u7c7b\u578b)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"window.abc = 123 //\u62a5\u9519\uff0cwindow\uff0c\u91cc\u9762\u6ca1\u6709abc    \n(window as any).abc = 123\n\nconst fn = (type:any):boolean => {\n    return type as boolean\n}\n\nlet a = fn(1)\nconsole.log(a) //1  \u53ef\u4ee5\u6b3a\u9a97ts\n")),(0,r.kt)("h4",{id:"3\u5185\u7f6e\u5bf9\u8c61"},"3.\u5185\u7f6e\u5bf9\u8c61"),(0,r.kt)("h6",{id:"1-ecma-script"},"1. ecma script"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let num:Number = new Number(1)\nlet date:Date = new Date()\nlet reg:RegExp = new RegExp(/\\w/)\nlet error:Error = new Error('\u51fa\u9519\u4e86\uff01')\nlet xhr:XMLHttpRequest = new XMLHttpRequest()\n")),(0,r.kt)("h6",{id:"2-dom"},"2. dom"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u4e09\u79cd\u7c7b\u578b HTML(\u5143\u7d20\u540d\u79f0)ELement HTMLELement ELement\nlet div = document.querySelect('div')\nlet div:NodeList = document.querySelectAll('footer')\nlet div:NodeListOf<HTMLDivElement | HTMLElement> = document.querySelectAll('div footer')\n")),(0,r.kt)("h6",{id:"3-bom"},"3. bom"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let local:Storage = localStorage\nlet lo:Location = location\n//promise\u53ef\u4ee5\u63a5\u53d7\u8fd4\u56de\u503c\u7c7b\u578b\u5b9a\u4e49\nlet promise:Promise<number> = new Promise((r) => r(1))\npromise.then(res => {\n    res.<number\u7c7b\u578b\u7684\u65b9\u6cd5>\n})\nlet cookie:string = document.cookie\n")),(0,r.kt)("h6",{id:"4\u6848\u4f8b\u4ee3\u7801\u96e8"},"4.\u6848\u4f8b\u4ee3\u7801\u96e8"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ts")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let canvas: HTMLCanvasElement = document.querySelector('canvas')\nlet ctx = canvas.getContext('2d')\ncanvas.width = screen.availWidth\ncanvas.height = screen.availHeight\n\nlet str: string = 'wsnbasdhu'\nlet Arr = Array(Math.ceil(canvas.width / 10)).fill(0)\nconsole.log(Arr);\n\nconst rain = () => {\n    ctx.fillStyle = 'rgba(0,0,0,0.05)'\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\n    ctx.fillStyle = '#0f0'\n    Arr.forEach((item, index) => {\n        ctx.fillText(str[Math.floor(Math.random() * str.length)], index * 10, item + 10)\n        Arr[index] = item > canvas.height || item > 10000 * Math.random() ? 0 : item + 10\n    })\n\n}\nsetInterval(rain, 40)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"html")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n        }\n    </style>\n</head>\n\n<body>\n    <canvas id="canvas"></canvas>\n    <script src="./index.js"><\/script>\n</body>\n\n</html>\n')),(0,r.kt)("h4",{id:"4-class\u7c7b"},"4. class\u7c7b"),(0,r.kt)("h6",{id:"\u865a\u62dfdom\u6e32\u67d3\u4f8b\u5b50"},"\u865a\u62dfdom\u6e32\u67d3\u4f8b\u5b50\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'interface Options {\n  el: string | HTMLElement\n}\ninterface VueCls {\n  options: Options\n  init(): void\n}\n\ninterface Vnode {\n  tag: string //div section header\n  text?: string //123\n  children?: Vnode[]\n}\n//\u865a\u62dfdom \u7b80\u5355\u7248\nclass Dom {\n  createElement(el: string) {\n    return document.createElement(el)\n  }\n  // \u586b\u5145\u6587\u672c\u7684\u65b9\u6cd5\n  setText(el: HTMLElement, text: string | null) {\n    el.textContent = text\n  }\n  // \u6e32\u67d3\u51fd\u6570\n  // private \u53ea\u7ed9\u5185\u90e8\u4f7f\u7528\n  // protected \u8ba9\u5185\u90e8\u548c\u5b50\u7c7b\u4f7f\u7528\n  protected render(data: Vnode) {\n    let root = this.createElement(data.tag)\n    if (data.children && Array.isArray(data.children)) {\n      data.children.forEach(item => {\n        let child = this.render(item)\n        root.appendChild(child)\n      })\n    } else {\n      this.setText(root, data.text)\n    }\n    return root\n  }\n}\n//implement \u7528\u6765\u7ea6\u675fclass\u7c7b\nclass Vue extends Dom implements VueCls {\n  options: Options\n  constructor(options: Options) {\n    super()\n    this.options = options\n    this.init()\n  }\n  init(): void {\n    // \u865a\u62dfdom \u6280\u672f\u901a\u8fc7js \u53bb\u9009\u62e9\u6211\u4eec\u8fd9\u4e2a\u771f\u5b9edom\n    let data: Vnode = {\n      tag: "div",\n      children: [\n        {\n          tag: "section",\n          text: "\u6211\u662f\u5b50\u8282\u70b91"\n        },\n        {\n          tag: "section",\n          text: "\u6211\u662f\u5b50\u8282\u70b92"\n        },\n      ]\n    }\n    let app = typeof this.options.el == \'string\' ? document.querySelector(this.options.el) : this.options.el\n    app.appendChild(this.render(data))\n  }\n}\nnew Vue({\n  el: "#app"\n})\n')),(0,r.kt)("h6",{id:"\u6ce8\u610f"},"\u6ce8\u610f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"private //\u53ea\u7ed9\u5185\u90e8\u4f7f\u7528\nprotected //\u8ba9\u5185\u90e8\u548c\u5b50\u7c7b\u4f7f\u7528\nsuper() //\u7236\u7c7b\u7684prototype.constructor.call  \u53ef\u4ee5\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5\nstatic //\u9759\u6001\u65b9\u6cd5 this\u7684\u6307\u5411\uff1astatic\u53ea\u80fd\u8c03\u7528static\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u6ca1\u6709\u52a0static\u548c\u52a0\u4e86static\u7684\u65b9\u6cd5\u4e4b\u95f4\u6ca1\u529e\u6cd5\u8c03\u7528\n")),(0,r.kt)("h6",{id:"get-set\u62e6\u622a\u5668"},"get set(\u62e6\u622a\u5668)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"class Ref {\n  _value: any\n  constructor(value: any) {\n    this._value = value;\n  }\n  get value() {\n    return this._value + 'vvv'\n  }\n  set value(newVal) {\n    this._value = newVal + 'sss'\n  }\n}\n\nconst ref = new Ref('\u54c8\u54c8\u54c8')\nconsole.log(ref.value);//\u54c8\u54c8\u54c8vvv\nref.value = '123'\nconsole.log(ref.value);//123sssvvv\n\n")),(0,r.kt)("h4",{id:"5\u62bd\u8c61\u7c7b"},"5.\u62bd\u8c61\u7c7b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// abstract \u6240\u5b9a\u4e49\u7684\u7c7b\u90fd\u662f\u62bd\u8c61\u7c7b\n// abstract \u6240\u5b9a\u4e49\u7684\u65b9\u6cd5 \u90fd\u53ea\u80fd\u63cf\u8ff0\u4e0d\u80fd\u8fdb\u884c\u5b9e\u73b0\n// \u62bd\u8c61\u7c7b\u65e0\u6cd5\u88ab\u5b9e\u4f8b\u5316\nabstract class Vue {\n  name: string\n  constructor(name?: string) {\n    this.name = name;\n  }\n  getName(): string {\n    return this.name\n  }\n  abstract init(name: string): void\n}\n\n// new Vue() //\u62a5\u9519\uff0c\u65e0\u6cd5\u521b\u5efa\u62bd\u8c61\u7c7b\u7684\u5b9e\u4f8b\n\nclass React extends Vue {\n  constructor() {\n    super()\n  }\n  init(name: string) {\n\n  }\n  setName(name: string) {\n    this.name = name\n  }\n}\n\nconst react = new React()\nreact.setName('xxx')\n\nconsole.log(react.getName());\n")),(0,r.kt)("h4",{id:"6\u5143\u7ec4\u7c7b\u578b"},"6.\u5143\u7ec4\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let arr: [number, boolean] = [1, false]\narr[0] = 6//\u53ef\u66f4\u6539\narr.push(2)//\u53ef\u884c\n// arr.push('2')  \u7c7b\u578b\u201c\"2\"\u201d\u7684\u53c2\u6570\u4e0d\u80fd\u8d4b\u7ed9\u7c7b\u578b\u201cnumber | boolean\u201d\u7684\u53c2\u6570\n\nconst arr1: [number, boolean] = [1, false]\narr1[0] = 6//\u53ef\u66f4\u6539\n// arr1 = [0, true]  \u65e0\u6cd5\u5206\u914d\u5230 \"arr1\" \uff0c\u56e0\u4e3a\u5b83\u662f\u5e38\u6570\n\n// \u4f7f\u7528readonly\u5c31\u4e0d\u80fd\u4f7f\u7528push\u6216\u8005\u66f4\u6539\nconst arr2: readonly [x: number, y?: boolean] = [1, false]\n\nlet excel: [string, string, number][] = [\n  ['xx', '\u7537', 12],\n  ['xx', '\u7537', 12],\n  ['xx', '\u7537', 12],\n  ['xx', '\u7537', 12],\n]\n\ntype first = typeof arr['length'] //type first = 2\n")),(0,r.kt)("h4",{id:"7\u679a\u4e3e\u7c7b\u578b"},"7.\u679a\u4e3e\u7c7b\u578b"),(0,r.kt)("h6",{id:"\u539f\u59cb\u65b9\u6cd5"},"\u539f\u59cb\u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//1.\nconst fn = (type) => {\n  if (type === 'red') {\n    return 0\n  }\n  if (type === 'green') {\n    return 1\n  }\n  if (type === 'blue') {\n    return 2\n  }\n}\n//\nlet obj = {\n  red: 0,\n  green: 1,\n  blue: 2\n}\n")),(0,r.kt)("h6",{id:"1\u6570\u5b57\u679a\u4e3e\u589e\u957f\u679a\u4e3e"},"1.\u6570\u5b57\u679a\u4e3e&&\u589e\u957f\u679a\u4e3e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"enum Color {\n  red,\n  green,\n  blue\n}\nconsole.log(Color.red, Color.green, Color.blue);//0,1,2\n\n//\u589e\u957f\u679a\u4e3e\nenum Color {\n  red = 1,\n  green,\n  blue\n}\nconsole.log(Color.red, Color.green, Color1.blue);//1,2,3\n")),(0,r.kt)("h6",{id:"2\u5b57\u7b26\u4e32\u679a\u4e3e"},"2.\u5b57\u7b26\u4e32\u679a\u4e3e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"enum Color {\n  red = 'red',\n  green = 'green',\n  blue = 'blue'\n}\nconsole.log(Color.red, Color.green, Color2.blue);//red green blue\n")),(0,r.kt)("h6",{id:"3\u5f02\u6784\u679a\u4e3e"},"3.\u5f02\u6784\u679a\u4e3e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"enum Color {\n  yes = 1,\n  no = 'no'\n}\nconsole.log(Color.yes, Color.no);//1 no\n")),(0,r.kt)("h6",{id:"4\u63a5\u53e3\u679a\u4e3e"},"4.\u63a5\u53e3\u679a\u4e3e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"enum Color {\n  yes = 1,\n  no = 'no'\n}\ninterface A {\n  red: Color.yes\n}\nlet obj: A = {\n  // red: Color.no//\u62a5\u9519\uff0c\u4e0d\u80fd\u5c06\u7c7b\u578b\u201cColor.no\u201d\u5206\u914d\u7ed9\u7c7b\u578b\u201cColor.yes\u201d\n  red: Color.yes\n}\n")),(0,r.kt)("h6",{id:"5const\u679a\u4e3e"},"5.const\u679a\u4e3e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const enum Types {\n  success,\n  fail\n}\n\nlet code:number = 0\nif(code=== Types.success){\n\n}\n")),(0,r.kt)("p",null,"\u4f7f\u7528const\u60c5\u51b5\u7684js\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var code = 0;\nif (code === 0 /* Types.success */) {\n    \n}\n")),(0,r.kt)("p",null,"\u4e0d\u4f7f\u7528\u7684\u60c5\u51b5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var Types;\n(function (Types) {\n    Types[Types["success"] = 0] = "success";\n    Types[Types["fail"] = 1] = "fail";\n})(Types || (Types = {}));\nlet code = 0;\nif (code === Types.success) {\n    \n}\n')),(0,r.kt)("p",null,"6.\u53cd\u5411\u6620\u5c04"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"enum Types {\n  success\n}\nlet success: number = Types.success\n\nlet key = Types[success]\n\nconsole.log(`value:${success}`, `key---${key}`);//value:0 key---success\n")),(0,r.kt)("p",null,"*\u5b57\u7b26\u4e32\u65e0\u6cd5\u6267\u884c\u53cd\u5c04"),(0,r.kt)("h4",{id:"8-\u7c7b\u578b\u63a8\u8bba\u7c7b\u578b\u522b\u540d"},"8. \u7c7b\u578b\u63a8\u8bba&&\u7c7b\u578b\u522b\u540d"),(0,r.kt)("p",null,"\u7c7b\u578b\u63a8\u8bba"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let str = '\u5c0f\u6ee1zs'//let str: string\n// str = 123  \u62a5\u9519\uff0c\u4e0d\u80fd\u5c06\u7c7b\u578b\u201cnumber\u201d\u5206\u914d\u7ed9\u7c7b\u578b\u201cstring\u201d\n\n//\u63a8\u65ad\u4e3aany\u7c7b\u578b\nlet str\n\nstr = 456\nstr = null\n")),(0,r.kt)("p",null,"\u7c7b\u578b\u522b\u540d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type s = string //number[]/{}\nlet str: s = '\u5c0f\u6ee1zs'\n\n//\u9ad8\u7ea7\u7528\u6cd5\n//extends \u5305\u542b\u7684\u610f\u601d\n// \u5de6\u8fb9\u7684\u503c \u4f1a\u4f5c\u4e3a\u53f3\u8fb9\u7c7b\u578b\u7684\u5b50\u7c7b\u578b\n// 1.any unknow\n// 2.Object\n// 3.Number\n// 4.number string\n// 5.never\ntype num = 1 extends number ? 1 : 0 //\u8fd4\u56de1\n")),(0,r.kt)("h4",{id:"9-never\u7c7b\u578b"},"9. never\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type A = string & number\n// \u4e3a\u4f55\u4e0d\u7528void ? \u4e00\u6267\u884c\u5c31\u62a5\u9519\uff0c\u4f7f\u7528never\u66f4\u5408\u9002\nfunction xm(): never {\n  throw new Error('\u9519\u8bef')\n}\nfunction xm(): never {\n  while (true) {\n  //\u6b7b\u5faa\u73af\u4e5f\u7528never\n  }\n}\n\n//\u8054\u5408\u7c7b\u578b\u4e2dnever\u7c7b\u578b\u4f1a\u88ab\u5ffd\u7565\ntype A = void | number | never //type A = number | void\n")),(0,r.kt)("p",null,"\u4f8b\u5b50\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type A = '\u5531' | '\u8df3' | 'rap'\nfunction kun(value: A) {\n  switch (value) {\n    case \"\u5531\":\n      break\n    case \"\u8df3\":\n      break\n    case \"rap\":\n      break\n    default:\n      // \u515c\u5e95\u903b\u8f91\n      // \u5982\u679cA\u4e2d\u52a0\u4e86\u4e1c\u897f\uff0cerror\u5c31\u4f1a\u62a5\u9519\uff0c\u89c1\u4e0b\u56fe\n      const error: never = value;\n      break\n  }\n}\n")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:%5CUsers%5C86138%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230511193903509.png",alt:"image-20230511193903509"})),(0,r.kt)("h4",{id:"10-symbol\u7c7b\u578b"},"10. Symbol\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// Symbol\u652f\u6301string | number | \u4ec0\u4e48\u90fd\u4e0d\u5199\nlet a1: symbol = Symbol(1)//\u552f\u4e00\u7684\nlet a2: symbol = Symbol(1)//\u552f\u4e00\u7684\n\nconsole.log(a1 === a2); //false\n// for Symbol  for\u5168\u5c40symbol\u6709\u6ca1\u6709\u6ce8\u518c\u8fc7\u8fd9\u4e2akey \u5982\u679c\u6709\u76f4\u63a5\u62ff\u6765\u7528 \u5982\u679c\u6ca1\u6709\u5c31\u521b\u5efa\u4e00\u4e2a\nconsole.log(Symbol.for('www') === Symbol.for('www')); //true\n\n// \u4f7f\u7528\u573a\u666f\nlet obj = {\n  name: 1,\n  [a1]: 111,\n  [a2]: 222\n}\n\nconsole.log(obj);//{ name: 1, [Symbol(1)]: 111, [Symbol(1)]: 222 }\n// for in \u4e0d\u80fd\u8bfb\u5230symbol\nfor (let key in obj) {\n  console.log(key);//name\n}\n// keys \u4e0d\u80fd\u8bfb\u5230symbol\nconsole.log(Object.keys(obj)); //[ 'name' ]\n// getOwnPropertyNames \u4e0d\u80fd\u8bfb\u5230symbol\nconsole.log(Object.getOwnPropertyNames(obj));//[ 'name' ]\n\nconsole.log(Object.getOwnPropertySymbols(obj));//[ Symbol(1), Symbol(1) ]\n\nconsole.log(Reflect.ownKeys(obj));//[ 'name', Symbol(1), Symbol(1) ]\n\n\n\n")),(0,r.kt)("h4",{id:"11\u751f\u6210\u5668\u8fed\u4ee3\u5668"},"11.\u751f\u6210\u5668&&\u8fed\u4ee3\u5668"),(0,r.kt)("h6",{id:"1\u751f\u6210\u5668"},"1.\u751f\u6210\u5668"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function* gen() {\n  yield Promise.resolve('www')  //\u540c\u6b65\u5f02\u6b65\n  yield 'www'\n  yield 'sss'\n  yield 'aaa'\n}\n\nconst man = gen()\nconsole.log(man.next());//{ value: Promise { 'www' }, done: false }\nconsole.log(man.next());//{ value: 'www', done: false }\nconsole.log(man.next());//{ value: 'sss', done: false }\nconsole.log(man.next());//{ value: 'aaa', done: false }\nconsole.log(man.next());//{ value: undefined, done: true }\n")),(0,r.kt)("h6",{id:"2\u8fed\u4ee3\u5668"},"2.\u8fed\u4ee3\u5668"),(0,r.kt)("h6",{id:"setmap"},"set&&map"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let set: Set<number> = new Set([1, 1, 2, 2, 3, 3]) //\u5929\u7136\u53bb\u91cd\u652f\u6301\u6570\u5b57\uff0c\u5b57\u7b26\u4e32\nconsole.log(set); //Set(3) { 1, 2, 3 }\n\nlet map: Map<any, any> = new Map()\n\nlet Arr = [1, 2, 3]\nmap.set(Arr, '\u5c0f\u6ee1')\n// \u628a\u5f15\u7528\u7c7b\u578b\u5f53key\nconsole.log(map.get(Arr));\n")),(0,r.kt)("h6",{id:"\u4f2a\u6570\u7ec4"},"\u4f2a\u6570\u7ec4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function args() {\n  console.log(arguments);//\u4f2a\u6570\u7ec4\n}\n\nlet list = document.querySelector('div') //\u4f2a\u6570\u7ec4\n")),(0,r.kt)("h6",{id:"\u8fed\u4ee3\u5668"},"\u8fed\u4ee3\u5668"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let Arr = [1, 2, 3]\nconst each = (value: any) => {\n  let It: any = value[Symbol.iterator]()\n  let next: any = { done: false }\n  while (!next.done) {\n    next = It.next()\n    if (!next.done) {\n      console.log(next.value);\n    }\n  }\n}\neach(Arr)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8bed\u6cd5\u7cd6 for of")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"for (let value of map) {\n  console.log(value);\n}\n")),(0,r.kt)("p",null," *\u8bed\u6cd5\u7cd6\u5bf9\u8c61\u4e0d\u80fd\u7528\uff0c\u5bf9\u8c61\u4e0d\u5b58\u5728iterator"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u89e3\u6784\u5e95\u5c42\u539f\u7406\u4e5f\u662f\u8c03\u7528iterator")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let [a, b, c] = [4, 5, 6]\nconsole.log(a, b, c); //4 5 6\n//\u6216\nlet a = [4, 5, 6]\nlet copy = [...a]\n")),(0,r.kt)("h6",{id:"\u5bf9\u8c61\u5b9e\u73b0iiterator"},"\u5bf9\u8c61\u5b9e\u73b0iiterator"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let obj = {\n  max: 5,\n  current: 0,\n  [Symbol.iterator]() {\n    return {\n      max: this.max,\n      current: this.current,\n      next() {\n        if (this.current == this.max) {\n          return {\n            value: undefined,\n            done: true\n          }\n        } else {\n          return {\n            value: this.current++,\n            done: false\n          }\n        }\n      }\n    }\n  }\n}\nlet x = [...obj]\nconsole.log(x); //[ 0, 1, 2, 3, 4 ]\n")),(0,r.kt)("h4",{id:"12\u6cdb\u578b"},"12.\u6cdb\u578b"),(0,r.kt)("p",null,"\u52a8\u6001\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u539f\u59cb\nfunction fn(a: number, b: number): Array<number> {\n  return [a, b]\n}\nfunction str(a: string, b: string): Array<string> {\n  return [a, b]\n}\n//\u91cd\u590d\u4ee3\u7801\u8fc7\u591a\n\n//\u6cdb\u578b\nfunction xx<T>(a: T, b: T): Array<T> {\n  return [a, b]\n}\n\nxx(1, 2)//\u81ea\u52a8\u63a8\u65ad\u4e3anumber\u7c7b\u578b \u5b8c\u6574\u5199\u6cd5xx<number>(1, 2)\nxx(false, true)//function xx<boolean>(a: boolean, b: boolean): boolean[]\nxx('1', '2') //function xx<string>(a: string, b: string): string[]\n\n//\u7c7b\u578b\u522b\u540d\u5b9a\u4e49\u6cdb\u578b\ntype A<T> = string | number | T\n\nlet a: A<boolean> = true// \u540c\u65f6\u652f\u6301string number boolean\u4e09\u79cd\u7c7b\u578b\n\ninterface Data<T> {\n  msg: T\n}\nlet data: Data<string> = {\n  msg: \"\u6211\u5230\u4e86\"\n}\n\n//\u8054\u5408\u7c7b\u578b\nfunction add<T, K>(a: T, b: K): Array<T | K> {\n  return [a, b]\n}\n//\u9ed8\u8ba4\u503c\nfunction add<T = number, K = number>(a: T, b: K): Array<T | K> {\n  return [a, b]\n}\n")),(0,r.kt)("p",null,"\u4f8b\u5b50(\u5c01\u88c5axios)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const axios = {\n  get<T>(url: string): Promise<T> {\n    return new Promise((resolve, reject) => {\n      let xhr: XMLHttpRequest = new XMLHttpRequest()\n      xhr.open('GET', url)\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState == 4 && xhr.status == 200) {\n          resolve(JSON.parse(xhr.responseText))\n        }\n      }\n      xhr.send(null)\n    })\n  }\n}\n\ninterface Data {\n  message: string\n  code: number\n}\naxios.get<Data>('./data.json').then(res => {\n  console.log(res);//{msg: '\u6210\u529f', code: '200'}\n})\n//json\u6587\u4ef6\u5982\u4e0b\n{\n  \"msg\": \"\u6210\u529f\",\n  \"code\": \"200\"\n}\n")),(0,r.kt)("h4",{id:"13\u6cdb\u578b\u7ea6\u675f"},"13.\u6cdb\u578b\u7ea6\u675f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u5728\u7c7b\u578b\u540e\u8ddf\u4e00\u4e2aextends \u5728\u8ddf\u4e00\u4e2a\u7ea6\u675f\u7684\u7c7b\u578b\nfunction add<T extends number>(a: T, b: T) {\n  return a + b\n}\nadd(1, 2)\n\ninterface Len {\n  length: number\n}\nfunction fn<T extends Len>(a: T) {\n  a.length\n}\nfn('111')\n")),(0,r.kt)("p",null,"\u7ea6\u675f\u5bf9\u8c61\u7684key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'let obj = {\n  name: "www",\n  sex: "\u5973"\n}\n\ntype Key = keyof typeof obj //type Key = "name" | "sex"\n\nfunction ob<T extends object, K extends keyof T>(obj: T, key: K) {\n  return obj[key]\n}\n\nob(obj, \'name\')\n\n//\u9ad8\u7ea7\u7528\u6cd5\ninterface Data {\n  name: string\n  age: number\n  sex: string\n}\n//for in  for(let key in obj)\ntype Option<T extends object> = {\n  [key in keyof T]?: T[key]\n}\n\ntype B = Option<Data>//B\u7c7b\u578b\u4e0b\u7684\u5c5e\u6027\u5168\u90e8\u52a0\u4e0a\u95ee\u53f7(\u5982\u4e0b\u56fe)\n')),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:%5CUsers%5C86138%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230512213923305.png",alt:"image-20230512213923305"}),"  "),(0,r.kt)("h4",{id:"14-namespace\u547d\u540d\u7a7a\u95f4"},"14. namespace\u547d\u540d\u7a7a\u95f4"),(0,r.kt)("p",null,"\u5982\u679c\u5305\u542bimport\u6216\u8005export\u7684\u6587\u4ef6\u90fd\u4f1a\u88ab\u5f53\u6210\u4e00\u4e2a\u6a21\u5757\uff0c\u5982\u679c\u6ca1\u6709\u5219\u89c6\u4e3a\u5168\u5c40\u53ef\u89c1\u7684"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:%5CUsers%5C86138%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230513110454862.png",alt:"image-20230513110454862"})),(0,r.kt)("h6",{id:"\u89e3\u51b3\u65b9\u6cd5"},"\u89e3\u51b3\u65b9\u6cd5\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"export\uff1a")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:%5CUsers%5C86138%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230513110519066.png",alt:"image-20230513110519066"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"namespace\uff1a")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:%5CUsers%5C86138%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230513110719787.png",alt:"image-20230513110719787"})),(0,r.kt)("h6",{id:"\u5d4c\u5957\u547d\u540d\u7a7a\u95f4"},"\u5d4c\u5957\u547d\u540d\u7a7a\u95f4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"namespace A {\n  export namespace C {\n    export const D = 5\n  }\n}\n\nconsole.log(A.C.D);//5\n")),(0,r.kt)("h6",{id:"\u62bd\u79bb\u547d\u540d\u7a7a\u95f4"},"\u62bd\u79bb\u547d\u540d\u7a7a\u95f4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//index.ts\nimport { B } from './index2'\nnamespace A {\n  export const a = 1\n}\nconsole.log(B);// { D: { G: 5 } }\n//index2.ts\nexport namespace B {\n  export namespace D {\n    export const G = 5\n  }\n}\n\n")),(0,r.kt)("h6",{id:"\u7b80\u5316\u547d\u540d\u7a7a\u95f4"},"\u7b80\u5316\u547d\u540d\u7a7a\u95f4"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import { B } from './index2'\nnamespace A {\n  export const a = 1\n}\nimport BBB = B.D\nconsole.log(BBB.G);//5\n")),(0,r.kt)("h6",{id:"\u547d\u540d\u7a7a\u95f4\u7684\u5408\u5e76"},"\u547d\u540d\u7a7a\u95f4\u7684\u5408\u5e76"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"namespace A {\n  export const a = 1\n}\nnamespace A {\n  export const b = 2\n}\n")),(0,r.kt)("p",null,"\u7b49\u540c\u4e8e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"namespace A {\n  export const a = 1\n  export const b = 2\n}\n")),(0,r.kt)("h4",{id:"15-\u4e09\u659c\u7ebf\u6307\u4ee4"},"15. \u4e09\u659c\u7ebf\u6307\u4ee4"),(0,r.kt)("p",null,"index2.ts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"namespace A {\n  export const a = 1\n}\n")),(0,r.kt)("p",null,"index3.ts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"namespace A {\n  export const b = 5\n}\n")),(0,r.kt)("p",null,"index.ts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'///<reference path ="index2.ts" />\n///<reference path ="index3.ts" />\n\nnamespace A {\n  export const c = 666\n}\n\nconsole.log(A.a, A.b, A.c);//1 5 666\n\n')),(0,r.kt)("p",null,"\u5f15\u5165\u58f0\u660e\u6587\u4ef6"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5b89\u88c5\u4f9d\u8d56")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @types/node -D\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5f15\u5165")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'///<reference types ="node" />\n')),(0,r.kt)("h4",{id:"16\u58f0\u660e\u6587\u4ef6"},"16.\u58f0\u660e\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import axios from \"axios\";\nimport express from 'express'//\u62a5\u9519\uff0cexpress\u4e0d\u5b58\u5728\u58f0\u660e\u6587\u4ef6\n")),(0,r.kt)("p",null,"\u624b\u5199\u58f0\u660e\u6587\u4ef6\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5728\u76ee\u5f55\u4e0b\u521b\u5efatypings\u6587\u4ef6\u5939"),(0,r.kt)("li",{parentName:"ul"},"\u521b\u5efaexpress.d.ts\u6587\u4ef6")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"declare module 'express' {\n  interface Router {\n    get(path: string, cb: (req: any, res: any) => void): void\n  }\n  interface App {\n    use(path: string, router: any): void\n    listen(port: number, cb?: () => void)\n  }\n  interface Express {\n    (): App\n    Router(): Router\n  }\n  const express: Express\n\n  export default express\n}\n")),(0,r.kt)("p",null,"\u6216\u5b89\u88c5\u58f0\u660e\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @types/express #\u6709\u4e9b\u63d2\u4ef6\u6ca1\u6709\u58f0\u660e\u6587\u4ef6\u9700\u8981\u624b\u5199\u5219\u662f\u4e0a\u4e00\u79cd\u60c5\u51b5\n")),(0,r.kt)("h4",{id:"17mixins\u6df7\u5165"},"17.Mixins\u6df7\u5165"),(0,r.kt)("h6",{id:"\u5bf9\u8c61\u6df7\u5165"},"\u5bf9\u8c61\u6df7\u5165"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'interface Name {\n  name: string\n}\ninterface Age {\n  age: number\n}\ninterface Sex {\n  sex: number\n}\nlet a: Name = {\n  name: "\u5c0f\u7c73"\n}\nlet b: Age = {\n  age: 18\n}\nlet c: Sex = {\n  sex: 1\n}\nlet obj = Object.assign(a, b, c)//let obj: Name & Age & Sex\n')),(0,r.kt)("h6",{id:"\u7c7b\u7684\u6df7\u5165"},"\u7c7b\u7684\u6df7\u5165"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'class A {\n  type: boolean\n  changeType() {\n    this.type = !this.type\n  }\n}\nclass B {\n  name: string\n  getName(): string {\n    return this.name\n  }\n}\n\nclass C implements A, B {\n  type: boolean = false\n  name: string = "ww"\n  changeType: () => void\n  getName: () => string\n}\nmixins(C, [A, B])\nfunction mixins(curCls: any, itemCls: any[]) {\n  itemCls.forEach(item => {\n    // console.log(item);\n    Object.getOwnPropertyNames(item.prototype).forEach(name => {\n      console.log(name);\n        /*\n        constructor\n        changeType\n        constructor\n        getName\n        */\n      curCls.prototype[name] = item.prototype[name]\n    })\n  })\n}\n\n\nlet ccc = new C()\nconsole.log(ccc.type);//false\nccc.changeType()\nconsole.log(ccc.type);//true\n')),(0,r.kt)("h4",{id:"18\u88c5\u9970\u5668decorator"},"18.\u88c5\u9970\u5668Decorator"),(0,r.kt)("p",null,"tsconfig.jion\u4e2d\u6253\u5f00"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"experimentalDecorators": true, \n"emitDecoratorMetadata": true,\n')),(0,r.kt)("h6",{id:"1\u7c7b\u88c5\u9970\u5668classdecorator"},"1.\u7c7b\u88c5\u9970\u5668ClassDecorator"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u6709\u4e2a\u53c2\u6570target \u8fd4\u56de\u7684\u662f\u6784\u9020\u51fd\u6570\nconst Base: ClassDecorator = (target) => {\n  console.log(target);//[class Http]\n  //\u4e0d\u7528\u770b\u4e4b\u524d\u7e41\u7410\u7684\u4ee3\u7801\u6765\u6dfb\u52a0\u65b9\u6cd5\n  target.prototype.__a = \"www\"\n  target.prototype.fn = () => {\n    console.log('\u6211\u662f\u5927\u4f6c');\n  }\n}\n\n@Base\nclass Http {\n  //...\u975e\u5e38\u591a\u4ee3\u7801\n}\n//\u6216\u8005\u4f7f\u7528Base(Http)\nconst http = new Http() as any\nhttp.fn()//\u6211\u662f\u5927\u4f6c\nconsole.log(http.__a);//www\n\n")),(0,r.kt)("h6",{id:"2\u5c5e\u6027\u88c5\u9970\u5668"},"2.\u5c5e\u6027\u88c5\u9970\u5668"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const Name: PropertyDecorator = (target, key) => {\n  console.log(target, key);//{} __a\n}\n\nclass Http {\n  @Name\n  __a: string\n  constructor() {\n    this.__a = 'ppp'\n  }\n}\n")),(0,r.kt)("h6",{id:"3\u53c2\u6570\u88c5\u9970\u5668parameterdecorator"},"3.\u53c2\u6570\u88c5\u9970\u5668ParameterDecorator"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import axios from \"axios\"\n//reflect-metadata \u539f\u6570\u636e\u7684\u53cd\u5c04 \u7528\u4e8e\u5b58\u50a8\u548c\u8bfb\u53d6\nimport 'reflect-metadata'\nconst https = require('https');\n\nconst Get = (url: string) => {\n  const fn: MethodDecorator = (target, _key, descriptor: PropertyDescriptor) => {\n    const key = Reflect.getMetadata('key', target)\n    axios.get(url, {\n      httpsAgent: new https.Agent({\n        rejectUnauthorized: false\n      })\n    }).then(res => {\n      descriptor.value(key ? res.data[key] : res.data)\n    })\n  }\n  return fn\n}\n\nconst Result = () => {\n  //target\u539f\u578b\u5bf9\u8c61 key getlist\u7684\u540d\u5b57 index \u53c2\u6570\u6240\u5728\u7684\u4f4d\u7f6e\n  const fn: ParameterDecorator = (target, key: any, index) => {\n    Reflect.defineMetadata('key', 'result', target)\n  }\n  return fn\n}\n\nclass Http {\n  @Get('https://api.apiopen.top/api/getHaoKanVideo?page=0&size=10')\n   //\u53ef\u4ee5\u51cf\u5c11\u4e00\u5c42result\n  getList(@Result() data: any) {\n    console.log(data);\n\n  }\n  create() {\n\n  }\n}\n\n")),(0,r.kt)("h6",{id:"4\u65b9\u6cd5\u88c5\u9970\u5668methoddecorator"},"4.\u65b9\u6cd5\u88c5\u9970\u5668MethodDecorator"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import axios from \"axios\"\n//up\u7684ssl\u8bc1\u4e66\u8fc7\u671f\u4e86\nconst https = require('https');\n\nconst Get = (url: string) => {\n  //target \u539f\u578b\u5bf9\u8c61 key \u65b9\u6cd5\u540d descriptor \u63cf\u8ff0\u7b26\n  const fn: MethodDecorator = (target, key, descriptor: PropertyDescriptor) => {\n    axios.get(url, {\n      httpsAgent: new https.Agent({\n        rejectUnauthorized: false\n      })\n    }).then(res => {\n      descriptor.value(res.data)\n    })\n  }\n  return fn\n}\nclass Http {\n  @Get('https://api.apiopen.top/api/getHaoKanVideo?page=0&size=10')\n  getList(data: any) {\n    console.log(data.result.list);\n  }\n  create() {\n\n  }\n}\n")),(0,r.kt)("h6",{id:"5\u88c5\u9970\u5668\u5de5\u5382\u51fd\u6570\u53ef\u7406\u5316"},"5.\u88c5\u9970\u5668\u5de5\u5382(\u51fd\u6570\u53ef\u7406\u5316)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"const Base = (name: string) => {\n  const fn: ClassDecorator = (target) => {\n    console.log(target);//[class Http]\n    //\u4e0d\u7528\u770b\u4e4b\u524d\u7e41\u7410\u7684\u4ee3\u7801\u6765\u6dfb\u52a0\u65b9\u6cd5\n    target.prototype.__a = name\n    target.prototype.fn = () => {\n      console.log('\u6211\u662f\u5927\u4f6c');\n    }\n  }\n  return fn\n}\n\n@Base('xxx')\nclass Http {\n  //...\u975e\u5e38\u591a\u4ee3\u7801\n}\nconst http = new Http() as any\nhttp.fn()//\u6211\u662f\u5927\u4f6c\nconsole.log(http.__a);//xxx\n")),(0,r.kt)("h4",{id:"19rollup\u6784\u5efats\u9879\u76ee"},"19.Rollup\u6784\u5efaTS\u9879\u76ee"),(0,r.kt)("p",null,"webpack\u6253\u5305\u4f53\u79ef\u8f83\u5927Rollup\u6253\u5305\u4f53\u79ef\u8f83\u5c0f"),(0,r.kt)("p",null,"\u5efa\u7acb\u76ee\u5f55"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:%5CUsers%5C86138%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230514141626568.png",alt:"image-20230514141626568"})," "),(0,r.kt)("p",null,"\u914d\u7f6epack.json\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "rollupTs",\n  "version": "1.0.0",\n  "description": "",\n  "main": "index.js",\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "dev": "cross-env NODE_ENV=development  rollup -c -w",\n    "build": "cross-env NODE_ENV=produaction  rollup -c"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC",\n  "devDependencies": {\n    "cross-env": "^7.0.3",\n    "rollup-plugin-livereload": "^2.0.5",\n    "rollup-plugin-node-resolve": "^5.2.0",\n    "rollup-plugin-replace": "^2.2.0",\n    "rollup-plugin-serve": "^1.1.0",\n    "rollup-plugin-terser": "^7.0.2",\n    "rollup-plugin-typescript2": "^0.31.1",\n    "typescript": "^4.5.5"\n  }\n}\n')),(0,r.kt)("p",null,"tsconfig.json\u4e2d\u7684\u201cmodule\u201d\u7684\u503c\u6539\u4e3a\u201cES2015\u201d"),(0,r.kt)("p",null,"\u7f16\u5199rollup.config.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import path from 'path'\n//\u8bfb\u53d6ts\u6587\u4ef6\nimport ts from 'rollup-plugin-typescript2'\n// \u81ea\u52a8\u8fd0\u884c\u670d\u52a1\nimport serve from \"rollup-plugin-serve\"\n// \u70ed\u66f4\u65b0\nimport livereload from 'rollup-plugin-livereload'\n//\u4ee3\u7801\u538b\u7f29 \u538b\u7f29\u4e3a\u4e00\u884c\nimport { terser } from 'rollup-plugin-terser'\n//\u7528\u6765\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\nimport replace from \"rollup-plugin-replace\"\n\n//\u5224\u65ad\u662f\u5426\u4e3a\u751f\u4ea7\u73af\u5883\uff0c\u5982\u679c\u662f\u5219\u8fd0\u884cserve\u548clivereload\nconst isDev = () => {\n  return process.env.NODE_ENV === 'development'\n}\nexport default {\n  input: \"./src/index.ts\",\n  output: {\n    file: path.resolve(__dirname, './lib/index.js'),\n    format: \"umd\",\n    // sourcemap \u6d4f\u89c8\u5668\u4e2d\u67e5\u770b\u8f93\u51fa\u7684\u6e90\u4ee3\u7801\n    //tsconfig.json\u4e2d\u4e5f\u5f00\u542fsourcemap\n    sourcemap: true\n  },\n  plugins: [\n    ts(),\n    isDev() && livereload(),\n    terser({\n      compress: {\n        // \u53bb\u9664console.log\n        drop_console: true\n      }\n    }),\n    replace({\n      //process\u53ea\u5b58\u5728\u4e8e\u7f16\u8bd1\u5668\uff0c\u4e0d\u5b58\u5728\u4e0e\u6d4f\u89c8\u5668\uff0c\u6ce8\u518c\u5168\u5c40\u53d8\u91cf\u8ba9\u6d4f\u89c8\u5668\u4e5f\u53ef\u4ee5\u83b7\u53d6process\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV)\n    }),\n    isDev() && serve({\n      open: true,\n      port: 1988,\n      openPage: \"/public/index.html\"\n    })\n  ]\n}\n")),(0,r.kt)("h4",{id:"20webpack\u6784\u5efats\u9879\u76ee"},"20.webpack\u6784\u5efaTS\u9879\u76ee"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm init -y\nnpm i webpack -D\nnpm i webpack-cli -D\nnpm i webpack-dev-server -D #\u70ed\u66f4\u65b0\nnpm i ts-loader -D #ts\u89e3\u6790\u5668\nnpm i html-webpack-plugin -D #html\u6a21\u677f\nnpm i typescript -D\n")),(0,r.kt)("p",null,"\u76ee\u5f55"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"C:%5CUsers%5C86138%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230514141356276.png",alt:"image-20230514141356276"})," "),(0,r.kt)("p",null,"package.json"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"dev": "webpack-dev-server",\n"build": "webpack"\n')),(0,r.kt)("p",null,"webpack.config.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const path = require("path")\nconst htmlwebpackplug = require("html-webpack-plugin")\n\nmodule.exports = {\n  entry: "./src/index.ts",\n  mode: "development",\n  output: {\n    path: path.resolve(__dirname, "./dist"),\n    filename: "index.js"\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.ts$/,\n        use: "ts-loader"\n      }\n    ]\n  },\n  devServer: {\n    port: 1988,\n    proxy: {\n\n    }\n  },\n  resolve: {\n    extensions: [\'.js\', \'.ts\']\n  },\n  plugins: [\n    new htmlwebpackplug({\n      template: \'./public/index.html\'\n    })\n  ]\n}\n')),(0,r.kt)("h4",{id:"21esbuild\u6784\u5efats\u9879\u76ee"},"21.esbuild\u6784\u5efaTS\u9879\u76ee"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm i @swc/core esbuild \ntsc --init\n")),(0,r.kt)("p",null,"tsconfig.json"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"target": "ESNext",\n"module": "ESNext",\n"moduleResolution": "node",\n')),(0,r.kt)("p",null,"\u521b\u5efaconfig.ts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import esbuild from 'esbuild'\nimport swc from '@swc/core'\nimport fs from 'node:fs'\n\nawait esbuild.build({\n  entryPoints: ['./index.ts'],\n  treeShaking: true,\n  bundle: true,\n  loader: {\n    '.js': \"js\",\n    '.ts': \"ts\",\n    '.jsx': \"jsx\",\n    '.tsx': \"tsx\",\n  },\n  plugins: [\n    {\n      name: \"swc-loader\",\n      setup(build) {\n        build.onLoad({ filter: /\\.(js|ts|jsx|tsx)$/ }, (args) => {\n          const content = fs.readFileSync(args.path, \"utf-8\")\n          // \u8f6c\u4e3aes5\n          const { code } = swc.transformSync(content, {\n            filename: args.path\n          })\n          return {\n            contents: code\n          }\n        })\n      }\n    }\n  ],\n  outdir:\"dist\"\n})\n")),(0,r.kt)("p",null,"\u6253\u5305"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ts-node-esm config.ts\n")),(0,r.kt)("h4",{id:"22\u5c01\u88c5localstorage\u5e76\u652f\u6301\u8fc7\u671f\u65f6\u95f4\u5b9e\u6218"},"22.\u5c01\u88c5LocalStorage\u5e76\u652f\u6301\u8fc7\u671f\u65f6\u95f4(\u5b9e\u6218)"),(0,r.kt)("p",null,"/scr/index.ts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//expire\u8fc7\u671f\u65f6\u95f4key permanent\u6c38\u4e45\u4e0d\u8fc7\u671f\nimport { StorageCls, Key, Expire, Data, Result } from \"./type\"\nimport { Dictionaries } from \"./enum\"\nexport class Storage implements StorageCls {\n  set<T>(key: Key, value: T, expire: Expire = Dictionaries.permanent) {\n    const data = {\n      value,//\u7528\u6237value\n      [Dictionaries.expire]: expire//\u8fc7\u671f\u65f6\u95f4\n    }\n    localStorage.setItem(key, JSON.stringify(data))\n  }\n  get<T>(key: Key): Result<T | null> {\n    const value = localStorage.getItem(key)\n    if (value) {\n      const data: Data<T> = JSON.parse(value)\n      const now = new Date().getTime()\n      // \u5224\u65ad\u6709\u6ca1\u6709\u8fc7\u671f\n      if (typeof data[Dictionaries.expire] == 'number' && data[Dictionaries.expire] < now) {\n        this.remove(key)\n        return {\n          message: `\u60a8\u7684${key}\u5df2\u8fc7\u671f`,\n          value: null\n        }\n      } else {\n        return {\n          message: '\u6210\u529f',\n          value: data.value\n        }\n      }\n    } else {\n      return {\n        message: '\u503c\u65e0\u6548',\n        value: null\n      }\n    }\n  }\n  remove(key: Key) {\n    localStorage.removeItem(key)\n  }\n  clear() {\n    localStorage.clear()\n  }\n}\n")),(0,r.kt)("p",null,"/src/type/index.ts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'import { Dictionaries } from "../enum"\n\nexport type Key = string\nexport type Expire = Dictionaries.permanent | number //\u65f6\u95f4\u6233 \u6216\u8005\u6c38\u4e45\nexport interface Data<T> {\n  value: T,\n  [Dictionaries.expire]: Expire\n}\nexport interface Result<T> {\n  message: string\n  value: T | null\n}\nexport interface StorageCls {\n  get: <T> (key: Key) => void\n  set: <T> (key: Key, value: T, expire: Expire) => void\n  remove: (key: Key) => void\n  clear: () => void\n}\n')),(0,r.kt)("p",null,"/src/enum/index.ts"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"export enum Dictionaries {\n  permanent = 'permanent',\n  expire = '__expire__'\n}\n")),(0,r.kt)("p",null,"rollup.config.js"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"import ts from 'rollup-plugin-typescript2'\nimport path from 'path'\nimport { fileURLToPath } from 'url'\nconst metaUrl = fileURLToPath(import.meta.url)\nconst dirName = path.dirname(metaUrl)\nexport default {\n  input: './src/index.ts',\n  output: {\n    file: path.resolve(dirName, './dist/index.js')\n  },\n  plugins: [\n    ts()\n  ]\n}\n")),(0,r.kt)("p",null,"index.html"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="UTF-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>Document</title>\n</head>\n\n<body>\n  <script type="module">\n    import { Storage } from \'./dist/index.js\'\n    const ls = new Storage()\n    ls.set(\'a\', 123, new Date().getTime() + 5000)\n\n  <\/script>\n</body>\n\n</html>\n')),(0,r.kt)("h4",{id:"23ts\u7f16\u5199\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f"},"23.TS\u7f16\u5199\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Evenet {\n  on: (name: string, fn: Function) => void\n  emit: (name: string, ...args: Array<any>) => void\n  off: (name: string, fn: Function) => void\n  once: (name: string, fn: Function) => void\n}\n\ninterface List {\n  [key: string]: Array<Function>\n}\n\nclass Dispatch implements Evenet {\n  list: List\n  constructor() {\n    this.list = {}\n  }\n  on(name: string, fn: Function) {\n    const callback = this.list[name] || []\n    callback.push(fn)\n    this.list[name] = callback\n  }\n  emit(name: string, ...args: Array<any>) {\n    let eventName = this.list[name]\n    if (eventName) {\n      eventName.forEach(fn => {\n        fn.apply(this, args)\n      })\n    } else {\n      console.error(`\u540d\u79f0\u9519\u8bef${eventName}`);\n    }\n  }\n  off(name: string, fn: Function) {\n    let eventName = this.list[name]\n    if (eventName && fn) {\n      let index = eventName.findIndex(fns => fns === fn)\n      eventName.splice(index, 1)\n    } else {\n      console.error(`\u540d\u79f0\u9519\u8bef${eventName}`);\n    }\n  }\n  // \u53ea\u6267\u884c\u4e00\u6b21\n  once(name: string, fn: Function) {\n    let de = (...args: Array<any>) => {\n      fn.apply(this, args)\n      this.off(name, de)\n    }\n    this.on(name, de)\n  }\n}\n\nconst o = new Dispatch()\no.on('post', (...args: Array<any>) => {\n  console.log(1, args);\n})\n// const fn = (...args: Array<any>) => {\n//   console.log(args, 2);\n\n// }\n// o.on('post', fn)\n\n\n// o.off('post', fn)\n\no.once('post', (...args: Array<any>) => {\n  console.log(args, 'once');\n})\n\no.emit('post', 1, false, { name: '\u5c0f\u6ee1' })\no.emit('post', 2, true, { name: '\u5c0f\u6ee1xxx' })\n")),(0,r.kt)("h4",{id:"24proxy\u548creflect"},"24.proxy\u548cReflect"),(0,r.kt)("p",null,"Proxy\u4ee3\u7406\u548cReflect\u53cd\u5c04\u90fd\u670913\u79cd\u65b9\u6cd5\uff0c\u4e14\u4ed6\u4eec\u7684\u65b9\u6cd5\u548c\u53c2\u6570\u90fd\u662f\u4e00\u6837\u7684"),(0,r.kt)("p",null,"\u4f46\u662fReflect\u4f1a\u76f4\u63a5\u53bb\u64cd\u4f5c\u5bf9\u8c61"),(0,r.kt)("p",null,"\u4ee5\u5f80proxy\u4ee3\u7406\u7528\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"server:{\n  proxy:{\n    '/api':{\n      target:\"\"\n    }\n  }\n}\n")),(0,r.kt)("p",null,"13\u79cd\u65b9\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let person = {\n  name: 'www',\n  age: 24\n}\n//proxy\u652f\u6301\u5bf9\u8c61 \u6570\u7ec4 \u51fd\u6570 set map \nperson.name //\u53d6\u503c\u64cd\u4f5c\nperson.name = \"www\" //\u8d4b\u503c\u64cd\u4f5c\n\nlet personProxy = new Proxy(person, {\n  //\u62e6\u622a\u53d6\u503c\u64cd\u4f5c\n  get() {\n\n  },\n  //\u62e6\u622a\u8d4b\u503c\u64cd\u4f5c\n  // person name xxx(\u8981\u8d4b\u7684\u503c) receiver=person\n  set(target, key, value, receiver) {\n    return true\n  },\n  //\u62e6\u622a\u51fd\u6570\u8c03\u7528\n  apply() {\n\n  },\n  //\u62e6\u622ain\u64cd\u4f5c\u7b26\n  has(target, p) {\n\n  },\n  //\u62e6\u622afor in \n  ownKeys() {\n\n  },\n  //\u62e6\u622anew\u64cd\u4f5c\u7b26\n  construct() {\n\n  },\n  //\u62e6\u622a\u5220\u9664\u64cd\u4f5c\n  deleteProperty() {\n\n  }\n\n  //...\n})\n")),(0,r.kt)("p",null,"\u4f8b\u5b50"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let person = {\n  name: 'www',\n  age: 24\n}\nlet personProxy = new Proxy(person, {\n  get(target, p, receiver) {\n    if (target.age >= 18) {\n      return Reflect.get(target, p, receiver)\n    } else {\n      return 'xxx'\n    }\n  },\n})\n\nconsole.log(personProxy.age);//24\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"console.log(person.name);//www\nconsole.log(Reflect.get(person, 'age', person));//24\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"console.log(person.name);//www\nconsole.log(Reflect.set(person, 'name', 'sdsd', person));//true\nconsole.log(person.name);//sdsd\n")),(0,r.kt)("p",null,"mobx observable\u89c2\u5bdf\u8005\u6a21\u5f0f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u4e8b\u4ef6\u5b58\u50a8\u5668\nconst list: Set<Function> = new Set()\n\n//\u8ba2\u9605\u51fd\u6570\nconst autorun = (cb: Function) => {\n  if (!list.has(cb)) {\n    list.add(cb)\n  }\n}\n\nconst observable = <T extends object>(params: T) => {\n  return new Proxy(params, {\n    set(target, key, value, receiver) {\n      const result = Reflect.set(target, key, value, receiver)\n      list.forEach(fn => fn())\n      return result\n    },\n  })\n}\n\nconst personProxy = observable({ name: 'xxx', attr: '\u5e72\u51c0\u53c8\u536b\u751f' })\n\nautorun(() => {\n  console.log(\"\u6709\u53d8\u5316\u4e86\");\n})\n\npersonProxy.name = 'www'//\u6709\u53d8\u5316\u4e86\n")),(0,r.kt)("h4",{id:"25\u7c7b\u578b\u517c\u5bb9"},"25.\u7c7b\u578b\u517c\u5bb9"),(0,r.kt)("h6",{id:"1\u534f\u53d8\u9e2d\u5b50\u7c7b\u578b"},"1.\u534f\u53d8(\u9e2d\u5b50\u7c7b\u578b)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// \u4e3b\u7c7b\u578b\ninterface A {\n  name: string\n  age: number\n}\n//\u5b50\u7c7b\u578b\ninterface B {\n  name: string\n  age: number\n  sex: string\n}\nlet a: A = {\n  name: 'www',\n  age: 33\n}\n\nlet b: B = {\n  name: 'xxx',\n  age: 22,\n  sex: \"\u7537\"\n}\n\n//\u534f\u53d8\n\na = b//b\u5305\u542ba\u53ef\u4ee5\u8d4b\u503c\n")),(0,r.kt)("h6",{id:"2\u9006\u53d8"},"2.\u9006\u53d8"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// \u4e3b\u7c7b\u578b\ninterface A {\n  name: string\n  age: number\n}\n//\u5b50\u7c7b\u578b\ninterface B {\n  name: string\n  age: number\n  sex: string\n}\n\nlet fna = (params: A) => {\n\n}\nlet fnb = (params: B) => {\n\n}\n//fna = fnb\n//\u8fd9\u65f6\u5019\u8c03\u7528fna\u5b9e\u5219\u8c03\u7528\u7684\u662ffnb\uff0cfnb\u4f5c\u4e3a\u4e3b\u7c7b\u578b\uff0c\u4e0d\u80fd\u6709\u591a\u5c5e\u6027\u7684\u4f5c\u4e3a\u4e3b\u7c7b\u578b\n//\u4e0d\u80fd\u5c06\u7c7b\u578b\u201c(params: B) => void\u201d\u5206\u914d\u7ed9\u7c7b\u578b\u201c(params: A) => void\u201d\u3002\u53c2\u6570\u201cparams\u201d\u548c\u201cparams\u201d \u7684\u7c7b\u578b\u4e0d\u517c\u5bb9\u3002\u7c7b\u578b "A" \u4e2d\u7f3a\u5c11\u5c5e\u6027 "sex"\uff0c\u4f46\u7c7b\u578b "B" \u4e2d\u9700\u8981\u8be5\u5c5e\u6027\u3002\nfnb = fna\n\nconsole.log(fna);\n\n')),(0,r.kt)("h4",{id:"26weakmapweaksetsetmap"},"26.weakMap,weakSet,set,map"),(0,r.kt)("h6",{id:"1set-\u96c6\u5408"},"1.set \u96c6\u5408"),(0,r.kt)("p",null,"\u6709\u4e00\u7ec4\u65e0\u5e8f\u4e14\u552f\u4e00\u7684\u9879\u7ec4\u5408\u6210\u7684\uff0c\u53ef\u4ee5\u60f3\u8c61\u6210\u96c6\u5408\u662f\u4e00\u4e2a\u65e2\u6ca1\u6709\u91cd\u590d\u5143\u7d20\uff0c\u4e5f\u6ca1\u6709\u987a\u5e8f\u6982\u5ff5\u7684\u6570\u636e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let set: Set<number> = new Set([1, 1, 2, 2, 3, 3, 4, 4, 5, 5])//\u5929\u7136\u53bb\u91cd \u5f15\u7528\u7c7b\u578b\u9664\u5916\nset.add(10)\nset.delete(1)\nconsole.log(set);//Set(5) {  2, 3, 4, 5 }\nconsole.log(set.has(10));//true\nset.clear()\nconsole.log(set);//Set(0) {}\n\n")),(0,r.kt)("h6",{id:"2map\u96c6\u5408"},"2.Map\u96c6\u5408"),(0,r.kt)("p",null,"\u7c7b\u4f3c\u4e8e\u5bf9\u8c61\uff0c\u4e5f\u662f\u952e\u503c\u5bf9\u7684\u96c6\u5408\uff0c\u4f46\u662f\u201c\u952e\u201d\u7684\u8303\u56f4\u4e0d\u9650\u4e8e\u5b57\u7b26\u4e32\uff0c\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff08\u5305\u62ec\u5bf9\u8c61\uff09\u90fd\u53ef\u4ee5\u5f53\u4f5c\u952e\uff0c\u662f\u4e00\u79cd\u66f4\u5b8c\u5584\u7684 Hash \u7ed3\u6784\u5b9e\u73b0\u3002\u5982\u679c\u4f60\u9700\u8981\u201c\u952e\u503c\u5bf9\u201d\u7684\u6570\u636e\u7ed3\u6784\uff0cMap \u6bd4 Object \u66f4\u5408\u9002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"let obj = { name: 'www' }\nlet map = new Map()\nmap.set(obj, 'xxx')\n")),(0,r.kt)("p",null,"\u65b9\u6cd5\u548cset\u4e00\u6837"),(0,r.kt)("h6",{id:"3weakmap\u548cweakset-\u5f31\u9879-\u5f31"},"3.weakMap\u548cweakSet \u5f31\u9879 \u5f31"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// weakmap\u7684key\u53ea\u80fd\u662f\u5f15\u7528\u7c7b\u578b\nlet obj: any = { name: 'www' } //1\nlet ss: any = obj //2\nlet weakmap: WeakMap<object, any> = new WeakMap()\nweakmap.set(obj, 'sdsd') //2\u4e0d\u4f1a\u662f3\nconsole.log(weakmap.get(obj));//sdsd\nobj = null;//-1\nss = null;//-1\nconsole.log(weakmap.get(obj));//undefined\n")),(0,r.kt)("p",null,"weakMap\u4e0d\u80fdforeach\uff0c\u56e0\u4e3av8\u5f15\u64ce\u5783\u573e\u56de\u6536\u673a\u5236\u5bfc\u81f4\u4e0d\u7a33\u5b9a"),(0,r.kt)("p",null,"weakSet \u548cweakMap\u57fa\u672c\u76f8\u540cweakmap\u7684key\u53ea\u80fd\u662f\u5f15\u7528\u7c7b\u578b"),(0,r.kt)("h4",{id:"27partialpick"},"27.Partial&Pick"),(0,r.kt)("p",null,"Partial"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Person = {\n  name: string,\n  age: number,\n  text: string\n}\n\n// \u6e90\u7801\n// type key = 'name' | 'age' | 'text'\n// type Partial<T> = {\n//   [P in keyof T]?: T[P];\n// };\n\ntype p = Partial<Person>\n//p\u7684\u7c7b\u578b\u53d8\u4e3a\n// type p = {\n//   name?: string | undefined;\n//   age?: number | undefined;\n//   text?: string | undefined;\n// }\n")),(0,r.kt)("p",null,"Pick"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Person = {\n  name: string,\n  age: number,\n  text: string\n}\n\n// \u6e90\u7801\n// type Pick<T, K extends keyof T> = {\n//   [P in K]: T[P];\n// };\n\n//\u8fdb\u884c\u7b5b\u9009\uff0c\u9009\u51faage\u548cname\u8d4b\u7ed9p\ntype p = Pick<Person, 'age' | 'name'>\n//p\u7684\u7c7b\u578b\u53d8\u4e3a\n// type p = {\n//   age: number;\n//   name: string;\n// }\n")),(0,r.kt)("h4",{id:"28recordreadonly"},"28.Record&Readonly"),(0,r.kt)("p",null,"Readonly"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type R<T> = {\n  readonly [P in keyof T]: T[P];\n};\n\ntype Person = {\n  name: string\n  age: number\n  text: string\n}\n\ntype man = R<Person>\n")),(0,r.kt)("p",null,"Record"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"//\u6e90\u7801\ntype R<K extends keyof any, T> = {\n  [P in K]: T;\n};\n\n//\u8fd4\u56de\u7c7b\u578b\ntype key = string | number | symbol\n\ntype Person = {\n  name: string\n  age: number\n  text: string\n}\n\ntype K = \"A\" | \"B\" | \"C\"\n\ntype B = R<K, Person>\n// \u8f6c\u53d8\u540e\u7684\u7ed3\u679c\n// type B = {\n//   A: Person;\n//   B: Person;\n//   C: Person;\n// }\nlet obj: B = {\n  A: { name: 'www', age: 14, text: 'aaa' },\n  B: { name: 'www', age: 14, text: 'aaa' },\n  C: { name: 'www', age: 14, text: 'aaa' }\n}\n")),(0,r.kt)("h4",{id:"29infer"},"29.infer"),(0,r.kt)("h6",{id:"1infer\u7684\u7b80\u5355\u4f7f\u7528"},"1.infer\u7684\u7b80\u5355\u4f7f\u7528"),(0,r.kt)("p",null,"\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u578b \u5982\u679c\u662f\u6570\u7ec4\u7c7b\u578b \u5c31\u8fd4\u56de \u6570\u7ec4\u5143\u7d20\u7684\u7c7b\u578b \u5426\u5219 \u5c31\u4f20\u5165\u4ec0\u4e48\u7c7b\u578b \u5c31\u8fd4\u56de\u4ec0\u4e48\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type TYPE<T> = T extends Array<any> ? T[number] : T\n\ntype A = TYPE<(number | string)[]>//type A = string | number\n\ntype B = TYPE<boolean>//type B = boolean\n")),(0,r.kt)("p",null,"\u4f7f\u7528inter \u4fee\u6539"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Infer<T> = T extends Array<infer U> ? U : T\n\ntype A = Infer<(string | Symbol)[]>//type A = string | Symbol\n")),(0,r.kt)("p",null,"\u914d\u5408",(0,r.kt)("strong",{parentName:"p"},"tuple")," \u8f6c\u6362 ",(0,r.kt)("strong",{parentName:"p"},"union")," \u8054\u5408\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type TupleToUni<T> = T extends Array<infer E> ? E : never\n \ntype TTuple = [string, number];\n \ntype ToUnion = TupleToUni<TTuple>; // string | number\n")),(0,r.kt)("h6",{id:"2infer-\u7c7b\u578b\u63d0\u53d6"},"2.infer \u7c7b\u578b\u63d0\u53d6"),(0,r.kt)("p",null,"1.\u63d0\u53d6\u5934\u90e8\u5143\u7d20"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Arr = ['a','b','c']\n\n//type First<T extends any[]> =  T extends [infer First,infer Second,infer Thrid] ? First : []\n//\u53ea\u53d6\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u540e\u7eed\u7528\u89e3\u6784\ntype First<T extends any[]> =  T extends [infer First,...any[]] ? First : []\n\ntype a = First<Arr>//\u53d6\u5230\u7b2c\u4e00\u4e2a\u5143\u7d20'a'\n")),(0,r.kt)("p",null,"\u7c7b\u578b\u53c2\u6570 T \u901a\u8fc7extends \u7ea6\u675f \u53ea\u80fd\u662f\u6570\u7ec4\u7c7b\u578b\uff0c\u7136\u540e\u901a\u8fc7infer \u58f0\u660e\u5c40\u90e8 First \u53d8\u91cf\u505a\u63d0\u53d6\uff0c\u540e\u9762\u7684\u5143\u7d20\u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b\uff0c\u7136\u540e\u628a\u5c40\u90e8\u53d8\u91cf\u8fd4\u56de"),(0,r.kt)("p",null,"2.\u63d0\u53d6\u5c3e\u90e8\u5143\u7d20"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Arr = ['a', 'b', 'c']\n\ntype Last<T extends any[]> = T extends [...any[], infer Last,] ? Last : []\n\ntype c = Last<Arr>\n")),(0,r.kt)("p",null,"\u5176\u5b9e\u5c31\u662f\u53cd\u8fc7\u6765\u5c31\u53ef\u4ee5\u4e86"),(0,r.kt)("p",null,"3.\u5254\u9664\u7b2c\u4e00\u4e2a\u5143\u7d20 Shift"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Arr = ['a','b','c']\n\ntype First<T extends any[]> =  T extends [unknown,...infer Rest] ? Rest : []\n\ntype a = First<Arr>\n")),(0,r.kt)("p",null,"\u601d\u8def\u5c31\u662f \u6211\u4eec\u9664\u4e86\u7b2c\u4e00\u4e2a\u7684\u5143\u7d20\u628a\u5176\u4ed6\u7684\u5269\u4f59\u5143\u7d20\u58f0\u660e\u6210\u4e00\u4e2a\u53d8\u91cf \u76f4\u63a5\u8fd4\u56de \u5c31\u5b9e\u73b0\u4e86\u6211\u4eec\u7684\u8981\u6c42 \u5254\u9664\u7b2c\u4e00\u4e2a\u5143\u7d20"),(0,r.kt)("p",null,"4.\u5254\u9664\u5c3e\u90e8\u5143\u7d20 pop"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Arr = ['a','b','c']\n\ntype First<T extends any[]> =  T extends [...infer Rest,unknown] ? Rest : []\n\ntype a = First<Arr>\n")),(0,r.kt)("p",null,"\u9053\u7406\u4e00\u6837\u7684 \u53cd\u8fc7\u6765\u5c31\u884c\u4e86"),(0,r.kt)("h6",{id:"3infer\u9012\u5f52"},"3.infer\u9012\u5f52"),(0,r.kt)("p",null,"\u6709\u8fd9\u4e48\u4e00\u4e2a\u7c7b\u578b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type Arr = [1, 2, 3, 4]\n")),(0,r.kt)("p",null,"\u5e0c\u671b\u901a\u8fc7\u4e00\u4e2a ts \u5de5\u5177\u53d8\u6210"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-TypeScript"},"type Arr = [4,3,2,1]\n")),(0,r.kt)("p",null,"\u5b8c\u6574\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"type Arr = [1, 2, 3, 4]\n \ntype ReveArr<T extends any[]> = T extends [infer First, ...infer rest] ? [...ReveArr<rest>, First] : T\n \ntype Res = ReveArr<Arr>\n")))}m.isMDXComponent=!0}}]);